-----
title: 论信息系统开发方法论
tags: [软考,系统分析师]
-----

【摘要】
-------

本人在公司担任前端工程师期间，接到了开发公司内部用报表展示系统的需求。该系统主要功能是根据后台接口返回的数据，在前端页面上以卡片列表的形式展现各种类型的图表，以供公司高管查看。前端主要使用的技术有vue.js、echarts、element-ui。本人主要负责领导5人的前端团队进行报表展示系统前端页面的开发。在人力和时间有限的情况下，通过“自顶向下”的开发方式，使得系统的架构层次分明易于维护，开发时间和人力资源得到充分利用，从而成功地在规定时间内完成了开发任务，并在后期需要频繁更新的情况下，成功避免了系统架构陷入混乱的情况。

【正文】
-------

本人所在公司接到了为客户开发BI系统的任务，该系统主要根据后台存储的数据生成图表展示页面，供客户方高管查看、并在客户方的大屏幕上展示，且客户方相关工作人员可以编辑图表展示页面的布局和页面中要显示的卡片。系统采用前后端分离架构，后端主要使用的技术有JAVA、SpringBoot、PostgreSQL，前端主要使用的技术有Vue.js、ECharts、Element-UI。

系统主要分为三部分：  
一、卡片模块：用来显示不同类型的图表，包括柱状图、条形图、散点图、杜邦图等，每一张卡片都对应了不同的数据源、数据类型、图表类型等内容。  
二、页面编辑模块：可以通过拖动的方式编辑图表展示页面的布局，然后再为布局中的每个格子配置待显示的卡片，最后再配置该页面对应的菜单项。  
三、页面展示模块：包括菜单和图表页面显示区，根据用户点击的菜单项，拉取对应的页面布局信息生成对应的页面，然后再拉取页面中的卡片数据并将卡片显示在页面的相应位置中。

本人主要负责领导前端团队进行报表展示系统前端页面的开发。在系统规划阶段，项目面临的困难如下：
* 卡片种类多达30种以上，每种卡片都需要重新开发，且允许的开发时间只有3天，开发人员包括本人在内仅5人，工作量非常大
* 需要兼容的浏览器种类较多，包括IE11、Chrome、iPad Safari，页面样式相关问题出现机率较大，会因此增加额外的工作量

在设计系统架构的时候，需要决定是以“自底向上”方式为主，还是“自顶向下”方式为主。如果此步骤选择错误，极易导致系统架构陷入混乱，进而导致后期工作量成倍增加甚至延误工期。

“自顶向下”的开发方式，典型做法是将大任务分解成多个子任务，比如将一个完成的页面分成多个模块，每个模块分别进行开发工作。
优点如下：
* 系统中各模块间的结构层次分明，便于理解和维护
* 可以较好地避免对局部进行修改时对其它模块产生的负面影响，并较好地避免单个模块中发生的错误影响到整个页面的正常运作
* 便于充分利用人力资源，加快开发进度
缺点如下：
* 代码复用率低，重复率较高，增加了开发工作量

“自底向上”的开发方式，典型做法是使用现有的组件进行复用和二次开发，以完成系统开发任务。
优点如下：
* 可以充分利用标准库、标准组件，以及现有的代码和组件，减少开发工作量
缺点如下：
* 容易导致系统的总体结构混乱，模块间耦合程度较高，不易于理解和维护
* 需要团队中所有人对现有代码和组件较为熟悉，否则难以充分利用现有代码和组件

在需求分析阶段，根据需求说明书和效果图，本人发现该系统的前端页面存在以下问题：
* 现有的组件基本无法满足要求，需要定制化开发
* 多张同类型的图表间也存在细微的差别，需要做大量的特殊处理以达到用户的要求
因此“自底向上”的开发方式中，易于复用代码的优点无法充分发挥，反而其易导致系统结构混乱的缺点被放大并成为潜在的风险点，遂采用“自顶向下”的开发方式进行系统的设计和开发工作。

在系统设计阶段，本人通过使用“自顶向下”的方式划分页面上的vue组件结构，即：
* 将页面分成菜单管理器、主内容显示区两个部分
* 定制的菜单管理器负责将后台返回的菜单数据转换成树状的结构，并根据用户选择的末级菜单返回对应的菜单id，并使用该菜单id在主内容显示区显示对应的内容
* 主内容显示区再负责处理卡片的布局，并将卡片放入对应的位置，以及处理卡片间的信息交互
* 每张卡片再负责展示各种类型的图表

通过这样的系统架构设计，在实施阶段达到了如下效果：
* 充分利用资源：在本人负责开发菜单管理器、主内容显示区、主内容显示区中的布局处理逻辑的同时，本人领导的项目组内其它成员同时负责卡片中各类图表的开发，实现了开发任务的并行化，充分地利用了现有的开发时间和人力资源。
* 系统层次分明：页面中各个vue组件间职责分明，最大限度地减少了组件间的耦合，提高了开发效率，且使问题易于定位。

系统上线后，用户又频繁提出新需求，包括新增加图表的类型，还有现有图表的修改点；且时效性要求高，有时甚至是当天提出需求，就需要当天完成开发、测试、用户验收、上线的流程。时间紧任务重，对系统的可维护性要求高。本人通过自顶向下的开发方式设计的架构，使得所有修改点易于定位，且修改点的影响范围明确可控，实现了高可维护性。从而得以成功地应对了这种需要对系统进行频繁修改的情况，避免了系统架构陷入混乱，并圆满地完成了用户提出的所有需求。

在开发和维护本系统的过程中，我也发现了一些问题：
* 因系统中特殊处理的场景多，导致部分代码逻辑较为混乱，但通过良好的系统架构，使得问题的影响面局限在部分组件上。
* 经常出现把一份代码复制到多个地方并进行修改，以适应各种需要特殊处理的场景，导致代码重复率较高。

总之，这是一次“自顶向下”开发方式的成功实践，充分利用了人力资源，使系统架构易于维护，并为以后的开发工作提供了较好的参考。

