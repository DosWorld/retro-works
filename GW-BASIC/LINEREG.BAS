10 DEFDBL A-Z:DEFINT I:L%=0
20 ON ERROR GOTO 30
21 WHILE 1:READ X,Y:L%=L%+1:WEND
30 IF ERR<>4 THEN ON ERROR GOTO 0
31 IF L%<2 THEN END
32 T0=0:T1=0:J0=1:J1=1:L=L%
40 WHILE ABS(J0)>0.0001 OR ABS(J1)>0.0001
50 A=1:B=0:D=0:J0=0:J1=0
60 RESTORE:FOR I=0 TO L%-1:READ X,Y
62 B=B+X:D=D+X*X:H=T0+T1*X
64 J0=J0+(H-Y):J1=J1+(H-Y)*X
70 NEXT I
72 B=B/L:C=B:D=D/L:J0=J0/L:J1=J1/L
80 DET=1/(A*D-B*C)
82 A1=DET*D:B1=DET*(-B):C1=DET*(-C):D1=DET*A
84 T0=T0-(A1*J0+B1*J1):T1=T1-(C1*J0+D1*J1)
90 WEND
91 PRINT "y = ";T0;"+ (";T1;") * x":END
